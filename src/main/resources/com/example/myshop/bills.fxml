<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="15.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.myshop.BillsController" style="-fx-padding: 20; -fx-background-color: #f4f4f4;">

    <HBox alignment="CENTER_LEFT" spacing="20">
        <Label style="-fx-font-size: 26; -fx-font-weight: bold; -fx-text-fill: #333;" text="Sales History &amp; Reports" />
        <Region HBox.hgrow="ALWAYS" />
        <Button onAction="#handleRefresh" text="Refresh Data" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-cursor: hand;" />
    </HBox>

    <SplitPane dividerPositions="0.6" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
        <VBox spacing="10">
            <Label text="All Invoices" style="-fx-font-weight: bold;" />
            <TableView fx:id="billsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colBillId" text="Bill ID" prefWidth="80" />
                    <TableColumn fx:id="colDate" text="Date &amp; Time" prefWidth="180" />
                    <TableColumn fx:id="colCustomer" text="Customer" prefWidth="150" />
                    <TableColumn fx:id="colTotal" text="Total Amount" prefWidth="120" />
                </columns>
            </TableView>
        </VBox>

        <VBox spacing="10" style="-fx-padding: 0 0 0 15;">
            <Label text="Bill Details (Items Sold)" style="-fx-font-weight: bold;" />
            <TableView fx:id="detailsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colItemName" text="Product" prefWidth="150" />
                    <TableColumn fx:id="colItemQty" text="Qty" prefWidth="60" />
                    <TableColumn fx:id="colItemPrice" text="Unit Price" prefWidth="100" />
                </columns>
            </TableView>
            <HBox alignment="CENTER_RIGHT" style="-fx-padding: 10; -fx-background-color: #e9ecef;">
                <Label text="Items Count: " />
                <Label fx:id="itemCountLabel" text="0" style="-fx-font-weight: bold;" />
            </HBox>
        </VBox>
    </SplitPane>
</VBox>